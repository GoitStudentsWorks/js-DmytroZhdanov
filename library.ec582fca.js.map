{"mappings":"gfACAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,SCCA,SAASE,EAAmBC,EAAOC,GACjC,OAAOD,EAAME,MAAM,EAAID,EAAG,EAAIA,EAAI,E,+BDKvBE,EAAO,CAClBC,iBAAkBC,SAASC,cAAc,uBACzCC,gBAAiBF,SAASC,cAAc,4BACxCE,wBAAyBC,KAAKC,MAAMC,aAAaC,QAAQ,aAIhDC,EAAU,CACnBC,iBAAkBX,EAAKK,wBACnBO,KAAKC,KAAKb,EAAKK,wBAAwBS,OAAS,GAChD,EACJC,WAAY,GAITf,EAAKK,yBAA4BL,EAAKK,wBAAwBS,OAI7DJ,EAAQC,kBAAoB,GAC9BX,EAAKC,iBAAiBe,WAAY,EAAArB,EAAAsB,0BAChCjB,EAAKK,yBAEPL,EAAKC,iBAAiBiB,UAAUC,IAAI,+BACpCnB,EAAKC,iBAAiBmB,iBAAiB,QAASC,EAAAC,oBAIhDtB,EAAKC,iBAAiBe,WAAY,EAAArB,EAAAsB,0BAChCrB,EAAmBI,EAAKK,wBAAyBK,EAAQK,aEnC7Df,EAAKC,iBAAiBsB,mBACpB,WACC,iSFqCDb,EAAQK,YAAc,EAEtBf,EAAKC,iBAAiBiB,UAAUC,IAAI,wBAGpCK,mBAAqBtB,SAASC,cAAc,wBAC5CqB,mBAAmBJ,iBAAiB,SG1CxC,WAEEK,sBAAwBvB,SAASC,cAAc,4BAC/CuB,QAAQC,IAAIF,uBAERf,EAAQC,mBAAqBD,EAAQK,WAAa,GACpDf,EAAKC,iBAAiBsB,mBACpB,aACA,EAAA5B,EAAAsB,0BACErB,EAAmBI,EAAKK,wBAAyBK,EAAQK,cAG7Df,EAAKC,iBAAiBiB,UAAUC,IAAI,+BACpCnB,EAAKC,iBAAiBiB,UAAUU,OAAO,wBACvCH,sBAAsBI,MAAMC,QAAU,SAGtC9B,EAAKC,iBAAiBsB,mBACpB,aACA,EAAA5B,EAAAsB,0BACErB,EAAmBI,EAAKK,wBAAyBK,EAAQK,cAG7DL,EAAQK,YAAc,E,MC1BxBf,EAAKI,gBAAgBY,UAAa,+RAUlChB,EAAKI,gBAAgBc,UAAUC,IAAI,yB,YLJrC,E,WAAAY,iBAEyB7B,SAAS8B,iBAAiB,yBAClCC,SAAQ,SAAAC,G,OAAKA,EAAEhB,UAAUC,IAAI,a","sources":["src/library.js","src/js/list-library.js","src/js/functions/renderNumberOfCard.js","src/js/functions/renderButtonLoadMore.js","src/js/functions/renderLoadMoreCard.js","src/js/functions/renderLibraryOppsText.js"],"sourcesContent":["// Library js\nimport './js/header';\nimport './js/mobile-menu';\nimport './js/hero';\nimport './js/list-library';\nimport './js/footer';\nimport { setGenresToSS } from './js/functions/setGenresToSS';\n\nsetGenresToSS();\n\nconst headerLibCurrent = document.querySelectorAll('[data-header-library]');\nheaderLibCurrent.forEach(i => i.classList.add('js-current'));\n","// Library Page - Library list section\nimport { generateMovieCardsMarkup } from './functions/generateMovieCardsMarkup';\nimport { renderLibraryOppsText } from './functions/renderLibraryOppsText';\nimport { renderNumberOfCard } from './functions/renderNumberOfCard';\nimport { renderLoadMoreCard } from './functions/renderLoadMoreCard';\nimport { renderButtonLoadMore } from './functions/renderButtonLoadMore';\nimport { onMovieCardClick } from './functions/onMovieCardClick';\n\nexport const refs = {\n  libraryMovieList: document.querySelector('[data-library-list]'),\n  libraryOppsText: document.querySelector('[data-library-oops-text]'),\n  LibraryFromLocalStorage: JSON.parse(localStorage.getItem('library')),\n};\n\n//================Сount how many pages we have with cards==============================\nexport let letRefs = {\n  totalLibraryPage: refs.LibraryFromLocalStorage\n    ? Math.ceil(refs.LibraryFromLocalStorage.length / 9)\n    : 0,\n  curentPage: 0,\n};\n\n//================Check LocalStorage====================================================\nif (!refs.LibraryFromLocalStorage || !refs.LibraryFromLocalStorage.length) {\n  renderLibraryOppsText();\n} else {\n  //==============if total page < 1 - render first page without button==================\n  if (letRefs.totalLibraryPage <= 1) {\n    refs.libraryMovieList.innerHTML = generateMovieCardsMarkup(\n      refs.LibraryFromLocalStorage\n    );\n    refs.libraryMovieList.classList.add('movie-cards-list-css-no-btn');\n    refs.libraryMovieList.addEventListener('click', onMovieCardClick);\n  } else {\n    //==============if page > 1 - render first page and Button \"load more\"==============\n\n    refs.libraryMovieList.innerHTML = generateMovieCardsMarkup(\n      renderNumberOfCard(refs.LibraryFromLocalStorage, letRefs.curentPage)\n    );\n\n    renderButtonLoadMore();\n    letRefs.curentPage += 1;\n\n    refs.libraryMovieList.classList.add('movie-cards-list-css');\n\n    //==================set event on Button \"Load more\"==================================\n    libraryLoadMoreBtn = document.querySelector('[data-load-more-btn]');\n    libraryLoadMoreBtn.addEventListener('click', renderLoadMoreCard);\n  }\n}\n","import { refs } from '../list-library';\n//====================make arrayCard for every page=================================\nfunction renderNumberOfCard(array, n) {\n  return array.slice(9 * n, 9 * n + 9);\n}\n\nexport { renderNumberOfCard };\n","import { refs } from '../list-library';\nfunction renderButtonLoadMore() {\n  refs.libraryMovieList.insertAdjacentHTML(\n    'afterend',\n    `\n                        <div class=\"btn-list-load-more\" data-div-load-more-btn>\n                            <button type=\"button\" class=\"btn btn-filled\" data-load-more-btn>\n                            Load more\n                            </button>\n                        </div>`\n  );\n}\n\nexport { renderButtonLoadMore };\n","import { refs } from '../list-library';\nimport { letRefs } from '../list-library';\nimport { generateMovieCardsMarkup } from './generateMovieCardsMarkup';\nimport { renderNumberOfCard } from './renderNumberOfCard';\n\nfunction renderLoadMoreCard() {\n  //==================read div of button to delete div if no btn for css================================\n  libraryDivLoadMoreBtn = document.querySelector('[data-div-load-more-btn]');\n  console.log(libraryDivLoadMoreBtn);\n  // =================if the last page is left - render and hide the button============\n  if (letRefs.totalLibraryPage === letRefs.curentPage + 1) {\n    refs.libraryMovieList.insertAdjacentHTML(\n      'beforeend',\n      generateMovieCardsMarkup(\n        renderNumberOfCard(refs.LibraryFromLocalStorage, letRefs.curentPage)\n      )\n    );\n    refs.libraryMovieList.classList.add('movie-cards-list-css-no-btn');\n    refs.libraryMovieList.classList.remove('movie-cards-list-css');\n    libraryDivLoadMoreBtn.style.display = 'none';\n  } else {\n    //=================render next page and add +1 to  cuontpage=======================\n    refs.libraryMovieList.insertAdjacentHTML(\n      'beforeend',\n      generateMovieCardsMarkup(\n        renderNumberOfCard(refs.LibraryFromLocalStorage, letRefs.curentPage)\n      )\n    );\n    letRefs.curentPage += 1;\n  }\n}\n\nexport { renderLoadMoreCard };\n","import { refs } from '../list-library';\nfunction renderLibraryOppsText() {\n  refs.libraryOppsText.innerHTML = `\n        <p>OOPS...<br>\n        We are very sorry!<br>\n        You don’t have any movies at your library.</p>\n          <div class=\"btn-list-search\">\n          <a  href=\"./catalogue.html\" class=\"btn btn-filled\">\n          Search movie\n          </a>\n          </div>\n        `;\n  refs.libraryOppsText.classList.add('library-ops-text-css');\n}\n\nexport { renderLibraryOppsText };\n"],"names":["parcelRequire","$2xcQJ","$6b660a395b41cfde$export$3e7bff8efe731ece","array","n","slice","$164d6b9b3e69aac3$export$21666b427502ea6d","libraryMovieList","document","querySelector","libraryOppsText","LibraryFromLocalStorage","JSON","parse","localStorage","getItem","$164d6b9b3e69aac3$export$90f8e97de6521056","totalLibraryPage","Math","ceil","length","curentPage","innerHTML","generateMovieCardsMarkup","classList","add","addEventListener","$kHa4C","onMovieCardClick","insertAdjacentHTML","libraryLoadMoreBtn","libraryDivLoadMoreBtn","console","log","remove","style","display","setGenresToSS","querySelectorAll","forEach","i"],"version":3,"file":"library.ec582fca.js.map"}